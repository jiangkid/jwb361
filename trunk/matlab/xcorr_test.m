clear all;
clc;
N = 500;
p1 = 1;
p2 = 0.1;
f = 1/8;
Mflag = 10;
u = randn(1, N);
n = 0:N-1;
s = sin(2*pi*f*n);
x1 = u(1:N)+s;
rx1 = xcorr(x1, Mflag, 'biased');
u2 = u*sqrt(p2);
x2 = u2(1:N)+s;
rx2 = xcorr(x2, Mflag, 'biased');
subplot(221);
plot(x1);
subplot(222);
plot(x2);
subplot(223);
plot(rx1);
grid on;
subplot(224);
plot(rx2);
grid on;